(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-note-index"],{"0411":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.line[data-v-ff7fbfca]{height:%?1?%;background-color:rgba(0,0,0,.3);width:95%;margin:0 auto}.video_box[data-v-ff7fbfca]{border:2px solid #e5e5e5;width:%?180?%;height:%?180?%}.tixing_content[data-v-ff7fbfca]{height:50%;max-width:90%;background:#35a6e0;border-radius:%?10?%;display:flex;justify-content:center;align-items:center;padding:%?7?% %?40?%;color:#fff}.zu[data-v-ff7fbfca]{height:%?100?%;display:flex;line-height:%?100?%;padding:0 %?20?%;align-items:center}',""]),e.exports=t},"2e4f":function(e,t,i){"use strict";i.r(t);var n=i("db49"),o=i("c788");for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("da21");var r,c=i("f0c5"),s=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"ff7fbfca",null,!1,n["a"],r);t["default"]=s.exports},"348e":function(e,t,i){"use strict";var n=i("4ea4");i("99af"),i("4160"),i("c975"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("4304")),a=n(i("7d14")),r=n(i("73c0")),c=(i("193c"),{data:function(){return{userInfo:"",defaultTime:"",timeFormat:{year:!0,month:!0,day:!0,hour:!0,minute:!0,second:!0},videoDetail:"",timeShow:!1,videoPicker:!1,noteDetail:{videoSrc:"",content:"",remindTime:"",name:"",userId:""},refEditor:!1}},components:{jinEdit:o.default,timePicker:a.default,nkSelectFile:r.default},onShow:function(){this.userInfo=uni.getStorageSync("userInfo"),this.noteDetail.userId=this.userInfo.id,this.refEditor=!0},methods:{openPicker:function(){this.videoPicker=!0},selectVideo:function(e){e&&(this.videoDetail=e[0],this.noteDetail.videoSrc=e[0].url)},submit:function(e){var t,i,n=this;if(!this.userInfo)return uni.showToast({title:"请先登录",icon:"error"}),void uni.switchTab({url:"/pages/my/index"});if(this.noteDetail.name){this.noteDetail.content=e.html,uni.showLoading({mask:!0,title:"加载中..."});var o="";null===e||void 0===e||null===(t=e.delta)||void 0===t||null===(i=t.ops)||void 0===i||i.forEach((function(e){e.insert.image&&(o=e.insert.image)}));var a={userId:this.userInfo.id,remindTime:this.noteDetail.remindTime,name:this.noteDetail.name,content:this.noteDetail.content,videoSrc:this.noteDetail.videoSrc,imgUrl:o};this.$api.addNote({data:a,header:{json:!0},success:function(e){e.data.message.indexOf("成功")>-1?(uni.showToast({icon:"success",title:"添加成功"}),n.refEditor=!1,n.noteDetail={videoSrc:"",content:"",remindTime:"",name:""},setTimeout((function(){n.refEditor=!0}),100),n.noteDetail.userId=n.userInfo.id,getApp().updateNoteRemind()):uni.showToast({title:e.data.message,icon:"error"})}})}else uni.showToast({title:"请输入标题",icon:"error"})},timeConfirm:function(e){this.noteDetail.remindTime="".concat(e.year,"-").concat(e.month,"-").concat(e.day," ").concat(e.hour,":").concat(e.minute,":").concat(e.second)}}});t.default=c},c788:function(e,t,i){"use strict";i.r(t);var n=i("348e"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},cdb9:function(e,t,i){var n=i("0411");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("bfe71c06",n,!0,{sourceMap:!1,shadowMode:!1})},da21:function(e,t,i){"use strict";var n=i("cdb9"),o=i.n(n);o.a},db49:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={timePicker:i("7d14").default,nkSelectFile:i("73c0").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"cu-form-group"},[n("v-uni-view",{staticClass:"title"},[e._v("标题")]),n("v-uni-input",{attrs:{placeholder:"请输入标题",name:"input"},model:{value:e.noteDetail.name,callback:function(t){e.$set(e.noteDetail,"name",t)},expression:"noteDetail.name"}})],1),n("v-uni-view",{staticClass:"cu-form-group justify-start",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.timeShow=!e.timeShow}}},[n("v-uni-view",{staticClass:"title"},[e._v("提醒")]),n("v-uni-view",{staticClass:"tixing_content"},[e._v(e._s(e.noteDetail.remindTime||"设置提醒（可选）"))])],1),n("v-uni-view",{staticClass:"cu-form-group align-center justify-start",staticStyle:{"padding-top":"20rpx","padding-bottom":"20rpx"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.openPicker.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"title"},[e._v("视频附件")]),n("v-uni-view",{staticClass:"video_box flex align-center justify-center",staticStyle:{overflow:"hidden"}},[e.noteDetail.videoSrc?n("v-uni-video",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.noteDetail.videoSrc,controls:!0}}):n("v-uni-image",{staticStyle:{height:"70rpx",width:"70rpx"},attrs:{src:i("4906")}})],1),e.videoDetail&&e.videoDetail.sizeMB?n("v-uni-view",{staticClass:"title margin-left"},[e._v("文件大小："+e._s(e.videoDetail.sizeMB)+"MB")]):e._e()],1),e.refEditor?n("jinEdit",{attrs:{placeholder:"请输入内容",html:e.noteDetail.content,uploadFileUrl:e.$api.uploadFileUrl},on:{editOk:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}}):e._e(),n("time-picker",{ref:"timePic",attrs:{params:e.timeFormat,defaultTime:e.noteDetail.remindTime,beginDate:"2022-03",endDate:"2023"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.timeConfirm.apply(void 0,arguments)}},model:{value:e.timeShow,callback:function(t){e.timeShow=t},expression:"timeShow"}}),n("nk-select-file",{attrs:{filterArr:["mp4"]},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.selectVideo.apply(void 0,arguments)}},model:{value:e.videoPicker,callback:function(t){e.videoPicker=t},expression:"videoPicker"}})],1)},a=[]}}]);