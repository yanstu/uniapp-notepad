(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-note-editnote"],{1326:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.line[data-v-928c2dee]{height:%?1?%;background-color:rgba(0,0,0,.3);width:95%;margin:0 auto}.video_box[data-v-928c2dee]{border:2px solid #e5e5e5;width:%?180?%;height:%?180?%}.tixing_content[data-v-928c2dee]{height:50%;max-width:90%;background:#35a6e0;border-radius:%?10?%;display:flex;justify-content:center;align-items:center;padding:%?7?% %?40?%;color:#fff}.zu[data-v-928c2dee]{height:%?100?%;display:flex;line-height:%?100?%;padding:0 %?20?%;align-items:center}',""]),e.exports=t},"342f0":function(e,t,i){"use strict";i.r(t);var n=i("867d"),a=i("8714");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("8b12");var c,r=i("f0c5"),s=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"928c2dee",null,!1,n["a"],c);t["default"]=s.exports},"48c5":function(e,t,i){"use strict";var n=i("4ea4");i("99af"),i("4160"),i("c975"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("4304")),o=n(i("7d14")),c=n(i("73c0")),r=(i("193c"),{data:function(){return{userInfo:"",defaultTime:"",timeFormat:{year:!0,month:!0,day:!0,hour:!0,minute:!0,second:!0},videoDetail:"",timeShow:!1,videoPicker:!1,noteDetail:"",refEditor:!1}},components:{jinEdit:a.default,timePicker:o.default,nkSelectFile:c.default},onLoad:function(e){this.noteId=e.noteId,this.select()},methods:{openPicker:function(){this.videoPicker=!0},selectVideo:function(e){e&&(this.videoDetail=e[0],this.noteDetail.videoSrc=e[0].url)},select:function(){var e=this;uni.showLoading({mask:!0,title:"加载中..."}),this.$api.getById({data:{id:this.noteId},success:function(t){t.data.message.indexOf("成功")>-1?(e.noteDetail=t.data.data,e.noteDetail.remindTime=e.noteDetail.remindTime||"",e.refEditor=!0):uni.showToast({title:t.data.message,icon:"error"})}})},submit:function(e){var t,i;if(this.noteDetail.name){this.noteDetail.content=e.html,uni.showLoading({mask:!0,title:"加载中..."});var n="";null===e||void 0===e||null===(t=e.delta)||void 0===t||null===(i=t.ops)||void 0===i||i.forEach((function(e){e.insert.image&&(n=e.insert.image)}));var a={userId:this.noteDetail.userId,remindTime:this.noteDetail.remindTime,id:this.noteDetail.id,name:this.noteDetail.name,content:this.noteDetail.content,videoSrc:this.noteDetail.videoSrc,imgUrl:n};this.$api.editNote({data:a,header:{json:!0},success:function(e){e.data.message.indexOf("成功")>-1?(uni.showToast({icon:"success",title:"修改成功"}),getApp().updateNoteRemind()):uni.showToast({title:e.data.message,icon:"error"})}})}else uni.showToast({title:"请输入标题",icon:"error"})},timeConfirm:function(e){this.noteDetail.remindTime="".concat(e.year,"-").concat(e.month,"-").concat(e.day," ").concat(e.hour,":").concat(e.minute,":").concat(e.second)}}});t.default=r},"867d":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var n={timePicker:i("7d14").default,nkSelectFile:i("73c0").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"cu-form-group"},[n("v-uni-view",{staticClass:"title"},[e._v("标题")]),n("v-uni-input",{attrs:{placeholder:"请输入标题",name:"input"},model:{value:e.noteDetail.name,callback:function(t){e.$set(e.noteDetail,"name",t)},expression:"noteDetail.name"}})],1),n("v-uni-view",{staticClass:"cu-form-group justify-start",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.timeShow=!e.timeShow}}},[n("v-uni-view",{staticClass:"title"},[e._v("提醒")]),n("v-uni-view",{staticClass:"tixing_content"},[e._v(e._s(e.noteDetail.remindTime||"设置提醒（可选）"))])],1),n("v-uni-view",{staticClass:"cu-form-group align-center justify-start",staticStyle:{"padding-top":"20rpx","padding-bottom":"20rpx"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.openPicker.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"title"},[e._v("视频附件")]),n("v-uni-view",{staticClass:"video_box flex align-center justify-center",staticStyle:{overflow:"hidden"}},[e.noteDetail.videoSrc?n("v-uni-video",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.noteDetail.videoSrc,controls:!0}}):n("v-uni-image",{staticStyle:{height:"70rpx",width:"70rpx"},attrs:{src:i("4906")}})],1),e.videoDetail&&e.videoDetail.sizeMB?n("v-uni-view",{staticClass:"title margin-left"},[e._v("文件大小："+e._s(e.videoDetail.sizeMB)+"MB")]):e._e()],1),e.refEditor?n("jinEdit",{attrs:{placeholder:"请输入内容",html:e.noteDetail.content,uploadFileUrl:e.$api.uploadFileUrl},on:{editOk:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}}):e._e(),n("time-picker",{ref:"timePic",attrs:{params:e.timeFormat,defaultTime:e.noteDetail.remindTime,beginDate:"2022-03",endDate:"2023"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.timeConfirm.apply(void 0,arguments)}},model:{value:e.timeShow,callback:function(t){e.timeShow=t},expression:"timeShow"}}),n("nk-select-file",{attrs:{filterArr:["mp4"]},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.selectVideo.apply(void 0,arguments)}},model:{value:e.videoPicker,callback:function(t){e.videoPicker=t},expression:"videoPicker"}})],1)},o=[]},8714:function(e,t,i){"use strict";i.r(t);var n=i("48c5"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},"8b12":function(e,t,i){"use strict";var n=i("cb16"),a=i.n(n);a.a},cb16:function(e,t,i){var n=i("1326");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("018ad246",n,!0,{sourceMap:!1,shadowMode:!1})}}]);